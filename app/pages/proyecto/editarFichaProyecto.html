<div class="row">
	<div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
		<h1 class="page-title txt-color-blueDark">
			
			<!-- PAGE HEADER -->
			<i class="fa-fw fa fa-pencil-square-o"></i> 
				Proyecto
			<span>>  
	Ver Ficha Proyecto
			</span>
		</h1>
	</div>
</div> 

<!-- Contenido --> 
 <form ng-submit="actualizar()" class="form-horizontal"  role="form" name="formulario" novalidate>
<section id="widget-grid" class="">
	<div class="well">
	
		<br><br>
		               <div class="alert alert-block alert-danger" ng-show="!paginaValida">
	<a class="close" data-dismiss="alert" href="#">×</a>
	<h4 class="alert-heading"><i class="fa fa-check-square-o"></i>Errores!</h4>
	<p>
		 Se han encontrado errores o falta de información, por favor verifique
	</p>
</div>

 <div class="alert alert-block alert-success" ng-show="guardadoCorrectamente">
	<a class="close" data-dismiss="alert" href="#">×</a>
	<h4 class="alert-heading"><i class="fa fa-check-square-o"></i>Exito</h4>
	<p>
		 Pagina guardada Exitosamente.
	</p>
</div>
		
	   <div class="row">
	       
<h1 class="text-center">Edición de Documento N° {{proyecto.idProyecto}}</h1>
	       
	       
	   </div>
<br><br>
	<div class="row">
			<div class="col-md-6"></div>
			<div class="col-md-6">
				
					<ul class="demo-btns">
							<li>
								<a ng-click="guardarProyecto()" class="btn btn-labeled btn-warning"> <span class="btn-label"><i class="glyphicon glyphicon-edit"></i></span>Guardar </a>
							</li>
							<li>
								<a ng-click="enviarProyecto()" class="btn btn-labeled btn-success"> <span class="btn-label"><i class="glyphicon glyphicon-ok"></i></span>Enviar </a>
							</li>

							<li>
								<a ng-click="verHistorial()" class="btn btn-labeled btn-default"> <span class="btn-label"><i class="glyphicon glyphicon-tasks"></i></span>Historial </a>
							</li>
					</ul>
				
		
				
				
			</div>
			
		</div>
		<br><br>


<div class="row ">
		<div class="col-md-10 estilo-col-cabecera">
			Informacion General del Proyecto
		</div>
	
	</div>	   	   
<div class="row ">
		<div class="col-md-2 estilo-col-titulo">
		Fecha de Solicitud
		</div>
		<div class="col-md-8 estilo-col">
		{{proyecto.fechaCreacion | date:'dd-MM-yyyy'}}
		</div>
	</div>	 
<div class="row ">
		<div class="col-md-2 estilo-col-titulo">
	Nombre del Solicitante
		</div>
		<div class="col-md-8 estilo-col">
			{{proyecto.usuario.nombre}}
		</div>
	</div>
<div class="row ">
		<div class="col-md-2 estilo-col-titulo">
	Nombre del Proyecto
		</div>
		<div class="col-md-8 estilo-col-input">
			<input type="text" class="form-control estilo-input" name="nombreDelProyecto" id="nombreDelProyecto" ng-model="proyecto.nombre" placeholder="Nombre del Proyecto" required >
		<p ng-show="!paginaValida && formulario.nombreDelProyecto.$error.required" class="help-block">Debe ingresar el "Nombre del Proyecto"</p>
		</div>
	</div>
<div class="row ">
		<div class="col-md-2 estilo-col-titulo"> 
	Empresa 
		</div>
		<div class="col-md-3 estilo-col">
			{{proyecto.empresa.nombre}}
		</div>
		<div class="col-md-2 estilo-col-titulo"> 
	Departamento 
		</div>
		<div class="col-md-3 estilo-col">
			{{proyecto.departamento.nombre}}
		</div>
	</div>
<div class="row">
		<div class="col-md-2 estilo-col-titulo"> 
	Etapa 
		</div>
		<div class="col-md-3 estilo-col">
			{{proyecto.etapa.nombre}}
		</div>
		<div class="col-md-2 estilo-col-titulo"> 
	Estado 
		</div>
		<div class="col-md-3 estilo-col">
		{{proyecto.estadoProyecto.nombre}}
		</div>
	</div>
<div class="row">
		<div class="col-md-2 estilo-col-titulo"> 
	Bussines Partner 
		</div>
		<div class="col-md-3 estilo-col">
		{{proyecto.usuarioBp.nombre}}
		</div>
		<div class="col-md-2 estilo-col-titulo"> 
	Jefe Proyecto 
		</div>
		<div class="col-md-3 estilo-col">
			{{proyecto.jefeProyecto.nombre}}
		</div>
	</div>
<br>
<br>

<div class="row ">
		<div class="col-md-10  estilo-col-titulo ">
		Resumen Ejecutivo
		</div>
	
</div>	   	   
<div class="row ">
	<div class="col-md-10 estilo-col-input">
		 <textarea name="resumenEjecutivo" ng-model="proyecto.resumenEjecutivo"  id="resumenEjecutivo" value ="{{proyecto.resumenEjecutivo}}" class="form-control estilo-input" rows="8" required></textarea>
	<p ng-show="!paginaValida && formulario.resumenEjecutivo.$error.required" class="help-block">Debe Ingresar Alguna Descripción</p>
		</div>
</div>	
<br></br>	
<div class="row ">
		<div class="col-md-10  estilo-col-cabecera">
	Especificación del Proyecto
		</div>
	
</div>	

<div class="row">
	<div class="col-md-2 estilo-col-titulo">
		Fecha Comienzo 	
		</div>
	<div class="col-md-3 estilo-col-input">
	<input type="date" class="form-control estilo-input" name="fechaComienzo" id="fechaComienzo" value="{{proyecto.fechaEstimadaComienzo}}" ng-model="proyecto.fechaEstimadaComienzo" placeholder="" required>	
	<p ng-show="!paginaValida && formulario.fechaComienzo.$error.required" class="help-block">Debe Ingresar Alguna Debe Ingregar fecha de Comienzo</p>
		</div>
		<div class="col-md-2 estilo-col-titulo">
		Duracion  en Semanas
		</div>
	<div class="col-md-3 estilo-col-input">
			<input type="number" class="form-control estilo-input" name="duracionSemana" id="duracionSemana" ng-model="proyecto.duracionSemana" placeholder="" required >
			<p ng-show="!paginaValida && formulario.duracionSemana.$error.required" class="help-block">Debe Ingresar Alguna Debe Ingresar Duracion en Semanas</p>
			<p ng-show="!paginaValida && formulario.duracionSemana.$error.number" class="help-block">el valor debe ingregar un "Numero Entero" </p>
		</div>	
</div>	
<div class="row ">
	<div class="col-md-2 estilo-col-titulo">
	Tipo de Proyecto
		</div>
	<div class="col-md-3 estilo-col-input">
			<div  class="inline-group">
								
										<label class="checkbox estilo-input checkbox-inline" ng-repeat="item in tipoProyecto" >
											<input type="checkbox" name="tipoProyecto" id="tipoProyecto" checklist-model="proyecto.tipoProyecto" checklist-value="item.id">
											<i></i>{{item.nombre}}</label>
	
				<p ng-show="!paginaValida && proyecto.tipoProyecto.length==0" class="help-block">Debe seleccionar Tipo de Proyecto</p>
			</div>
		</div>
		<div class="col-md-2 estilo-col-titulo">
	Complejidad de Proyecto
		</div>
	<div class="col-md-3 estilo-col-input">

<label class="select">
                            <select class="input-sm estilo-input" ng-model="proyecto.complejidad" id="complejidad" name="complejidad" ng-options="item as item.nombre  for item in listas.complejidad track by item.id" required>
                                 <option value="">-- Seleccione Complejidad --</option>
                                
                            </select>
                        
                        </label>


	<p ng-show="!paginaValida && formulario.complejidad.$error.required" class="help-block">Debe seleccionar complejidad del Proyecto</p>	
</div>
</div>
	
	<br></br>	
<div class="row ">
		<div class="col-md-10  estilo-col-cabecera">
Equipo de Proyecto
<p ng-show="!paginaValida && arrEquipo.length==0" class="help-block">Debe agregar al equipo de proyecto</p>
		</div>
	
</div>
<div class="row ">
		
		<div class="col-md-10 estilo-col">
		<p ng-show="!equipoValido" class="help-block">Debe completar todos los campos</p>
		<div class="row">
			<div class="col-md-6">
				 <typeahead items="items" prompt="Ingrese Nombre..." title="name"  subtitle="abbreviation" codigo="idEmail" model="nombreEquipo" on-select="" />
			</div>
	    </div>
		<div class="row">
			<div class="col-md-6">
					<label class="select">
                            <select class="input-sm estilo-input" ng-model="rolEquipo" name="rolEquipo" ng-options="item as item.nombre  for item in listas.rolEquipo track by item.id">
                                 <option value="">-- Seleccione Rol --</option>
                                
                            </select>
                        
                        </label>
			</div>
				<div class="col-md-6">
			   	<a  ng-click="agregarEquipo()"  class="btn btn-labeled btn-primary"> <span class="btn-label"><i class="glyphicon glyphicon-plus"></i></span>Agregar </a>
			   </div>
	    
	    </div>
		
		</div>
	
	</div>	 
<div class="row" ng-show ="arrEquipo.length>0">
		<div class="col-md-4  estilo-col-titulo">
Nombre 
		</div>

		<div class="col-md-2  estilo-col-titulo">
Rol 
		</div>
		<div class="col-md-2  estilo-col-titulo">
Email  
		</div>
		<div class="col-md-2  estilo-col-titulo">
Opciones 
		</div>
	
</div>	
<div class="row " ng-repeat="item in arrEquipo">
		<div class="col-md-4  estilo-col">
{{item.nombre}}
		</div>

		<div class="col-md-2  estilo-col">
{{item.cargo.nombre}} 
		</div>
		<div class="col-md-2  estilo-col">
{{item.email}}  
		</div>
		<div class="col-md-2  estilo-col">
<a  ng-click="quitarEquipo(item.email)" alt="Editar Proyecto"><span class="fa-fw fa-1x fa fa-minus-circle" ></span></a>  
		</div>
	
</div>	

<br></br>	
<div class="row ">
		<div class="col-md-10  estilo-col-cabecera">
Evaluacion Economica del Proyecto
		</div>
	
</div>	

<div class="row">
	<div class="col-md-2 estilo-col-titulo">
	Costos One -off
		</div>
	<div class="col-md-3 estilo-col-input">
		<input type="number" class="form-control estilo-input" name="costosOneOff" id="costosOneOff" ng-model="proyecto.costoOneOff" placeholder="" required>	
	<p ng-show="!paginaValida && formulario.costosOneOff.$error.required" class="help-block">Debe Ingresar Costos One Off</p>
			<p ng-show="!paginaValida && formulario.costosOneOff.$error.number" class="help-block">el valor debe ingregar un "Numero Entero" </p>	
	</div>
		<div class="col-md-2 estilo-col-titulo">
		Costos On -Going
		</div>
	<div class="col-md-3 estilo-col-input">
		<input type="number" class="form-control estilo-input" name="costosOnGoing" id="costosOnGoing" ng-model="proyecto.costoOnGoing" placeholder="" required >	
			<p ng-show="!paginaValida && formulario.costosOnGoing.$error.required" class="help-block">Debe Ingresar Costos One Off</p>
			<p ng-show="!paginaValida && formulario.costosOnGoing.$error.number" class="help-block">el valor debe ingregar un "Numero Entero" </p>	

		</div>	
</div>	
<div class="row ">
	<div class="col-md-2 estilo-col-titulo">
	Beneficios
		</div>
	<div class="col-md-8 estilo-col-input">
		<input type="number" class="form-control estilo-input" name="beneficios" id="beneficios" ng-model="proyecto.beneficios" placeholder="" required >	
			<p ng-show="!paginaValida && formulario.beneficios.$error.required" class="help-block">Debe Ingresar Costos One Off</p>
			<p ng-show="!paginaValida && formulario.beneficios.$error.number" class="help-block">el valor debe ingregar un "Numero Entero" </p>	

		</div>
	
</div>		
<div class="row ">
	<div class="col-md-2 estilo-col-titulo">
	Beneficios Intangibles
		</div>
	<div class="col-md-8 estilo-col-input">
		<textarea name="beneficiosIntangibles" ng-model="proyecto.beneficioIntangible"  id="beneficiosIntangibles" value ="{{proyecto.beneficioIntangible}}" class="form-control estilo-input" rows="8" ></textarea>
		</div> 
	
</div>		
	<br></br>	
<div class="row " ng-show="proyecto.idEtapaProyecto>2">
		<div class="col-md-10  estilo-col-cabecera">
Entregables del Proyecto
		</div>
	
</div>

<div class="row" ng-show="proyecto.idEtapaProyecto>2">
	<div class="col-md-10 estilo-col">
	<div class="row">
			<div class="col-md-2">
			    <label class="select">
                            <select class="input-sm estilo-input" ng-model="tipoEntregable" name="tipoEntregable" ng-options="item as item.nombre  for item in listas.tipoEntregable track by item.id">
                                 <option value="">-- Seleccione Tipo Entregable --</option>
                                
                            </select>
                        
                        </label> 
		</div>
		
		<div class="col-md-2">
			<input type="text" class="form-control estilo-input" name="semanaEntrega" id="semanaEntrega" ng-model="semanaEntrega" placeholder="Semana de Entrega" >
			
			
		</div>
	
	

			<div class="col-md-2">
			    	<a  ng-click="agregarEntregable()"  class="btn btn-labeled btn-primary"> <span class="btn-label"><i class="glyphicon glyphicon-plus"></i></span>Agregar </a>
		
	</div>
                  
     </div>
		
	
	
</div>
<br>
</div>



<div class="row " ng-show="proyecto.idEtapaProyecto>2">
		<div class="col-md-3  estilo-col-titulo">
Nombre 
		</div>

		<div class="col-md-2  estilo-col-titulo">
Semana Entrega 
		</div>
			<div class="col-md-2  estilo-col-titulo">
fecha Estimada Entrega 
		</div>
		<div class="col-md-3  estilo-col-titulo">
Opciones  
		</div>
	
</div>	
<div class="row " ng-show="proyecto.idEtapaProyecto>2" ng-repeat="item in arrEntregable">
		<div class="col-md-3  estilo-col">
{{item.tipoEntregable.nombre}}
		</div>

		<div class="col-md-2 estilo-col">
{{item.semanaEntrega}} 
		</div>
			<div class="col-md-2  estilo-col">
{{item.fechaEstimada | date:'dd-MM-yyyy'}} 
		</div>
		<div class="col-md-3  estilo-col">
<a  ng-click="quitarEntregable(item.tipoEntregable.id)" alt=""><span class="fa-fw fa-1x fa fa-minus-circle" ></span></a>  
		</div>
	
</div>	

	<br></br>	
<div class="row ">
		<div class="col-md-10  estilo-col-cabecera">
Adjuntos
<p ng-show="!paginaValida && arrAdjuntos.length==0" class="help-block">Debe agregar al menos 1 Adjunto</p>
		</div>
	
</div>
<div class="row">
	<div class="col-md-10 estilo-col">
	<div class="row">
		<div class="col-md-6">
			<input type="text" class="form-control estilo-input" name="adjuntoNombre" id="adjuntoNombre" ng-model="adjuntoNombre" placeholder="Descripcion Archivo" >
			
			
		</div>
		<div class="col-md-2">
			    <label class="select">
                            <select class="input-sm estilo-input" ng-model="tipoAdjunto" name="tipoAdjunto" ng-options="item as item.nombre  for item in listas.tipoAnexos track by item.id">
                                 <option value="">-- Seleccione Tipo Archivo --</option>
                                
                            </select>
                        
                        </label> 
		</div>
		<div class="col-md-2" ng-show="porcentajeAvance>0">
			Subiendo {{porcentajeAvance}} %
		
		</div>


			<div class="col-md-2">
			     <div class="controls">
        <span class="btn btn-success fileinput-button">
            <i class="icon-plus icon-white"></i>
            <input type="file" name="file" ng-file-select="onFileSelect($files)" ><span>Agregar Archivo</span>
        </span>
		</div>
		
	</div>
                  
     </div>
		
	
	
</div>
<br>
</div>
<div class="row">
		<div class="col-md-4  estilo-col-titulo">
Descripcion 
		</div>
<div class="col-md-2  estilo-col-titulo">
Tipo Adjunto 
</div>
		<div class="col-md-2  estilo-col-titulo">
Fecha Creacion 
		</div>
		
	<div class="col-md-2  estilo-col-titulo">
Opciones 
		</div>
	
	
</div>
<div class="row" ng-repeat="item in arrAdjuntos">
		<div class="col-md-4  estilo-col">
<a href="api/proyectoAdjunto/{{item.urlArchivo}}" target="_blank"> {{item.descripcion}}</a> 
		</div>

		<div class="col-md-2  estilo-col">
{{item.tipoAdjunto.nombre}} 
		</div>
			<div class="col-md-2  estilo-col">
{{item.fechaCreacion | date:'dd-MM-yyyy'}} 
		</div>
			<div class="col-md-2  estilo-col">
<a  ng-click="quitarAdjunto(item.email)" alt="quitar Adjunto"><span class="fa-fw fa-1x fa fa-minus-circle" ></span></a>  
		</div>




	
</div>		

	<br></br>	
<div class="row ">
		<div class="col-md-7  estilo-col-cabecera">
Versiones
		</div>
	
</div>
<div class="row ">
		<div class="col-md-3  estilo-col-titulo">
Fecha Creacion 
		</div>

	<div class="col-md-4  estilo-col-titulo">
Etapa 
		</div>	
	
</div>	
<div class="row" ng-repeat="item in proyecto.version">
		<div class="col-md-3  estilo-col">
{{item.fechaCreacion | date:'dd-MM-yyyy'}} 
		</div>

	
	<div class="col-md-4  estilo-col">
{{item.etapaProyecto.nombre}} 
		</div>
	
</div>			
	
	
</div>


	  
</section>
</form>
<style>
.help-block {
display: block;
margin-top: 5px;
margin-bottom: 10px;
color: #E81717;
}

.fileinput-button 
{
	position: relative;
	overflow: hidden;
}

.fileinput-button input 
{
	position: absolute;
	top: 0;
	right: 0;
	margin: 0;
	opacity: 0;
	filter: alpha(opacity=0);
	transform: translate(-300px, 0) scale(4);
	font-size: 23px;
	direction: ltr;
	cursor: pointer;
}


	.estilo-col-titulo {
		padding-top: 10px;
		padding-bottom: 10px;
		background-color: rgba(61, 106, 124, 0.15);
		border: 1px solid rgba(61, 106, 124, 0.2);
		font-size: 85%!important;
		font-weight: bold;
	}


	.estilo-col-cabecera{
		padding-top: 15px;
		padding-bottom: 15px;
		border: 1px solid rgba(61, 106, 124, 0.2);
		font-size:180%!important;
	}


	.estilo-col{
		padding-top: 10px;
		padding-bottom:10px;
		border: 1px solid rgba(61, 106, 124, 0.2);
		font-size: 85%!important;
		
	}

.estilo-col-input{
		padding-top: 2px;
		padding-bottom: 2px;
		border: 1px solid rgba(61, 106, 124, 0.2);
		font-size: 90%!important;
		
	}
.estilo-input{
	
		font-size: 85%!important;
	}
	
</style>